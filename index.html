<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Steve's Live Page with Live Sheet</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    /* --- Existing Steve's page styles --- */
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      color: #fff;
      text-align: center;
      line-height: 1.6;
    }
    header {
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 20px 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      backdrop-filter: blur(10px);
    }
    h1 {
      color: #64b5f6;
      text-shadow: 0 0 10px rgba(100, 181, 246, 0.7);
      margin: 0;
      font-size: 2.2rem;
    }
    h2, h3 {
      color: #bbdefb;
      margin-top: 20px;
    }

    .section-container {
      padding: 20px;
      margin: 0 auto;
      max-width: 1200px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .section-box {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      flex: 1 1 calc(50% - 40px);
      min-width: 300px;
      box-sizing: border-box;
      margin-bottom: 20px;
    }

    #date-time-container {
      position: static;
      text-align: center;
      background: rgba(0, 0, 0, 0.5);
      color: #ffffff;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(100, 181, 246, 0.5);
      margin: 10px auto;
      max-width: 300px;
    }
    #date {
      font-size: 1.3em;
      color: #64b5f6;
    }
    #ph-time {
      font-size: 2.2em;
      margin-top: 10px;
      color: #bbdefb;
      text-shadow: 0 0 8px rgba(187, 222, 251, 0.7);
    }

    .wrap {
      width: 100%;
      aspect-ratio: 16 / 9;
      background-color: #000;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 20px auto;
      max-width: 800px;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(100, 181, 246, 0.7);
    }
    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
      border-radius: 15px;
    }

    .audio-section {
      margin: 40px auto;
      max-width: 600px;
      padding: 25px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }
    audio {
      width: 100%;
      margin-top: 15px;
    }

    .movie-links {
      margin: 40px auto;
      max-width: 600px;
      padding: 25px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      text-align: left;
    }
    .movie-links h2 {
      text-align: center;
      color: #64b5f6;
    }
    .movie-links ul {
      list-style: none;
      padding: 0;
    }
    .movie-links li {
      margin-bottom: 12px;
    }
    .movie-links a {
      color: #64b5f6;
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s ease;
    }
    .movie-links a:hover {
      color: #bbdefb;
      text-decoration: underline;
    }

    .security-codes {
      margin: 40px auto;
      max-width: 800px;
      padding: 25px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      text-align: center;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
      color: #bbdefb;
    }
    .security-codes p {
      margin: 10px 0;
      word-break: break-all;
    }

    .copyright {
      text-align: center;
      padding: 20px;
      color: #bbdefb;
      font-size: 0.9em;
      margin-top: 20px;
    }

    @media (max-width: 768px) {
      .section-box {
        flex: 1 1 100%;
        max-width: 100%;
      }
      #date-time-container {
        margin: 10px auto;
      }
      select {
        width: calc(100% - 20px);
      }
      h1 {
        font-size: 1.8rem;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
      }
      header {
        padding: 15px 10px;
      }
      header h1 {
        font-size: 1.6em;
      }
      h1, h2, h3 {
        font-size: 1.3em;
      }
      #date-time-container {
        font-size: 0.9em;
        padding: 15px;
      }
      #ph-time {
        font-size: 1.8em;
      }
      .audio-section, .movie-links {
        padding: 20px;
      }
      .section-box {
        padding: 15px;
      }
    }

    /* --- Live Sheet Data styles --- */
    .live-sheet-body {
      background: #0f111a;
    }
    .card {
      background: #1f2435;
      border-radius: 1rem;
      padding: 1rem 1.25rem;
      box-shadow: 0 24px 60px -10px rgba(0,0,0,.25);
      max-width: 1100px;
      width: 100%;
      overflow: auto;
      margin: 40px auto;
      font-family: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
    }
    .card h1 {
      margin: 0 0 .5rem;
      font-size: 1.5rem;
      color: #e6ecff;
      text-shadow: none;
    }
    .small {
      font-size: .7rem;
      opacity: .75;
      color: #c3cde0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.9rem;
      margin-top: .5rem;
      color: #e6ecff;
    }
    thead tr {
      background: #2f3045;
    }
    th, td {
      padding: 8px 12px;
      border: 1px solid #272a48;
      text-align: left;
      white-space: nowrap;
    }
    th {
      position: sticky;
      top: 0;
      font-weight: 600;
    }
    tr:nth-child(odd) {
      background: rgba(255,255,255,.02);
    }
    .error {
      background: #7a1f1f;
      padding: .75rem 1rem;
      border-radius: .5rem;
      color: #ffe3e3;
      margin-top: .5rem;
    }
    .loading {
      display: inline-block;
      font-size: .9rem;
      margin-left: .5rem;
      vertical-align: middle;
      color: #c3cde0;
    }
    .refresh {
      background: #6366f1;
      border: none;
      color: white;
      padding: .45rem .9rem;
      border-radius: .5rem;
      cursor: pointer;
      font-size: .8rem;
      margin-left: .5rem;
    }
    .timestamp {
      margin-top: .5rem;
      font-size: .65rem;
      opacity: .8;
      color: #c3cde0;
    }
    @media (max-width: 900px) {
      .card {
        padding: 1rem;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1>Welcome to Steve's Website</h1>
  </header>

  <!-- Date & Time -->
  <div class="section-container">
    <div class="section-box">
      <div id="date-time-container">
        <div id="date">Loading date...</div>
        <div id="ph-time">Loading time...</div>
      </div>
    </div>
  </div>
  
  <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Philippines Weather & Alerts</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #fff;
      margin: 0;
      padding: 20px;
    }
    h1, h2 {
      text-align: center;
      color: #00d2ff;
    }
    .weather-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }
    .weather-box {
      background: #1e1e2f;
      padding: 20px;
      border-radius: 12px;
      width: 280px;
    }
    .alert {
      background: #ff5555;
      padding: 10px;
      border-radius: 8px;
      margin: 10px auto;
      max-width: 600px;
      text-align: center;
    }
    #ticker {
      position: relative;
      background: #333;
      color: #fff;
      padding: 10px;
      overflow: hidden;
      white-space: nowrap;
      margin-top: 20px;
    }
    #ticker span {
      display: inline-block;
      padding-right: 100%;
      animation: scroll 30s linear infinite;
    }
    @keyframes scroll {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    .mute-btn {
      margin-top: 10px;
      padding: 5px 10px;
      background: #ff4444;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>üå¶Ô∏è Philippines Weather</h1>
<div id="time" style="text-align:center; font-size: 1.2em;"></div>

<div class="weather-container" id="weather">
  <!-- Weather boxes will be injected here -->
</div>

<div id="alerts">
  <!-- Earthquake and Tsunami Alerts Here -->
</div>

<div id="ticker">
  <span id="advisory-ticker">üì¢ Loading advisories...</span>
</div>

<audio id="alertSound" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg" preload="auto"></audio>

<script>
const apiKey = 'f4a8040d77bcf2fca8ddc0acd72dc4f0';
const cities = [
  { name: "Manila", lat: 14.5995, lon: 120.9842 },
  { name: "Cebu City", lat: 10.3157, lon: 123.8854 },
  { name: "Talisay, Cebu", lat: 10.2451, lon: 123.8494 },
  { name: "Davao", lat: 7.1907, lon: 125.4553 }
];

const weatherContainer = document.getElementById("weather");
const alertSound = document.getElementById("alertSound");
let soundInterval, soundTimeout;

function fetchWeather() {
  weatherContainer.innerHTML = "";
  cities.forEach(city => {
    fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${city.lat}&lon=${city.lon}&appid=${apiKey}&units=metric`)
      .then(res => res.json())
      .then(data => {
        const temp = data.main.temp.toFixed(1);
        const humidity = data.main.humidity;
        const feels_like = data.main.feels_like.toFixed(1);
        const description = data.weather[0].main;
        const isRaining = description.toLowerCase().includes("rain") ? "Yes ‚òî" : "No";
        const heatIndex = calculateHeatIndex(temp, humidity).toFixed(1);

        const box = document.createElement("div");
        box.className = "weather-box";
        box.innerHTML = `
          <h2>${city.name}</h2>
          üå°Ô∏è Temp: ${temp}¬∞C<br/>
          ü•µ Feels Like: ${feels_like}¬∞C<br/>
          üî• Heat Index: ${heatIndex}¬∞C<br/>
          üíß Humidity: ${humidity}%<br/>
          üåßÔ∏è Raining: ${isRaining}<br/>
          ‚è∞ ${new Date().toLocaleTimeString('en-PH', { hour: 'numeric', minute: '2-digit', hour12: true })}
        `;
        weatherContainer.appendChild(box);
      });
  });
}

function calculateHeatIndex(T, RH) {
  // Simplified formula
  return T + 0.33 * RH / 100 * T - 0.7;
}

function fetchEarthquakes() {
  fetch("https://earthquake.phivolcs.dost.gov.ph/api/latest")
    .then(res => res.json())
    .then(data => {
      const alertDiv = document.getElementById("alerts");
      const quake = data[0]; // Assume latest
      const magnitude = parseFloat(quake.magnitude);
      alertDiv.innerHTML = "";
      if (magnitude >= 5) {
        alertDiv.innerHTML = `
          <div class="alert">
            ‚ö†Ô∏è <strong>Earthquake Alert:</strong><br/>
            Magnitude ${magnitude} in ${quake.location}<br/>
            <span id="countdown">15</span>s remaining
            <button class="mute-btn" onclick="stopSound()">Mute</button>
          </div>
        `;
        playSound();
      }
    })
    .catch(err => console.warn("Earthquake data not available."));
}

function fetchTsunami() {
  // Example placeholder: simulate tsunami alert
  const tsunamiActive = false; // Set to true to test
  const alertDiv = document.getElementById("alerts");
  if (tsunamiActive) {
    alertDiv.innerHTML += `
      <div class="alert" style="background: #0066cc;">
        üåä <strong>Tsunami Warning!</strong><br/>
        Stay away from coastal areas.
        <span id="countdown">15</span>s remaining
        <button class="mute-btn" onclick="stopSound()">Mute</button>
      </div>
    `;
    playSound();
  }
}

function playSound() {
  stopSound(); // Reset
  let secondsLeft = 15;
  document.getElementById("countdown").textContent = secondsLeft;
  soundInterval = setInterval(() => {
    alertSound.play();
    secondsLeft--;
    document.getElementById("countdown").textContent = secondsLeft;
  }, 1000);
  soundTimeout = setTimeout(stopSound, 15000);
}

function stopSound() {
  clearInterval(soundInterval);
  clearTimeout(soundTimeout);
  alertSound.pause();
  alertSound.currentTime = 0;
  const alertBox = document.getElementById("alerts");
  if (alertBox) alertBox.innerHTML = "";
}

function updateTime() {
  document.getElementById("time").textContent =
    `üïí Local Time: ${new Date().toLocaleString('en-PH', { hour12: true })}`;
}

function loadTicker() {
  const now = Date.now();
  const advisories = [
    { type: "heat", message: "üî• Stay hydrated! Heat index is high.", time: now },
    { type: "flood", message: "üåä Watch out for flood-prone areas during heavy rain.", time: now },
    { type: "emergency", message: "‚òéÔ∏è Emergency: Call 911 for urgent help.", time: now }
  ];
  const active = advisories.filter(a => now - a.time < 86400000); // last 24 hours

  const ticker = active.map(a => a.message).join(" ‚Äî ");
  document.getElementById("advisory-ticker").textContent = ticker;
}

// Initial + every 30s
fetchWeather();
fetchEarthquakes();
fetchTsunami();
loadTicker();
updateTime();
setInterval(() => {
  fetchWeather();
  fetchEarthquakes();
  fetchTsunami();
  updateTime();
}, 30000);
</script>

</body>
</html>

  
  
  <!-- Live Sheet Data Card -->
  <div class="card" aria-label="Live spreadsheet data">
    <div style="display:flex; align-items:center; justify-content: space-between; flex-wrap: wrap; gap:8px;">
      <div>
        <h1>3D Lotto Result Today</h1>
        <div class="small">Automatically refreshed every 30 seconds.</div>
      </div>
      <div>
        <button class="refresh" id="manualRefresh">Refresh now</button>
        <span id="status" class="small"></span>
      </div>
    </div>
    <div id="tableContainer" aria-live="polite">
      <div class="loading" id="loadingText">Loading data‚Ä¶</div>
    </div>
    <div class="timestamp" id="lastUpdated"></div>
    <div id="errorMsg" class="error" style="display:none;"></div>
  </div>

  <!-- YouTube Selector -->
  <div class="section-container">
    <div class="section-box" style="flex: 1 1 100%; max-width: 800px;">
      <h1>Select a YouTube Live Channel</h1>
      <select id="channelSelect">
        <option value="">-- Choose Channel --</option>
        <option value="UCnf8Ejd3y2RboWNcOqHS24A">ATTY. RUPHIL F BA√ëOC</option>
        <option value="UCPTddoHsUattFCXD8u4p7Eg">ATTY. JURIL BROKA PATI√ëO</option>
        <option value="UC1S4Kg8_N5-1Rp6miCKEpsQ">XFM Cebu 88.3 | Official Channel</option>
        <option value="UCstEtN0pgOmCf02EdXsGChw">KAPAMILYA CHANNEL</option>
        <option value="UCKL5hAuzgFQsyrsQKgU0Qng">GMA NETWORK</option>
        <option value="UCiFx0kZFjR29u0uJxTSq5MQ">TV5 Philippines</option>
        <option value="UCJCUbMaY593_4SN1QPG7NFQ">PTV Philippines</option>
        <option value="UCIxIecbM8okv6hI7iqGJm2A">RMN NETWORK</option>
        <option value="UCpOm2kv1upnIFoOT7rSp6hg">PCSO GOV</option>
        <option value="UCupvZG-5ko_eiXAupbDfxWw">CNN</option>
        <option value="UCDgW7mEUuVJuU-yRyZslrbw">ALL TV2</option>
        <option value="UC7941bBpZFenu_58hHnBkGQ">CCTN 47 OFFICIAL</option>
        <option value="UCeY0bbntWzzVIaj2z3QigXg">NBC News</option>
        <option value="UCYFgnkDYr-G5L_iy6DZdvSA">Super Radyo DZBB 594khz</option>
        <option value="UCs_VNu-FQ0WcJnD4QkmIL5w">DZMM Teleradyo</option>
        <option value="UCnYlMfpbCIg54cEyUiE42vw">NET25 News and Information</option>
        <option value="UCi-D5IxBR2HahDyfJfqy7jA">One PH</option>
        <option value="UCkw9o4FxDfJJiEHpq5JzDrQ">DYTR Bohol TV</option>
        <option value="UCVVw9u0pZ3nnWxx7WyE8YkQ">Bombo Radyo Philippines</option>
        <option value="UCetMicrNjXa_Pev2pjl-Vjw">Leo Lastimosa</option>
      </select>

      <div class="wrap" id="playerContainer" style="display: none;">
        <iframe id="livePlayer"
          src=""
          allow="autoplay; encrypted-media; picture-in-picture"
          allowfullscreen>
        </iframe>
      </div>
    </div>
  </div>

  <!-- Audio -->
  <div class="audio-section">
    <h2>DYHP612 Audio Streaming Live Cebu Philippines</h2>
    <audio controls autoplay loop>
      <source src="https://de3.amfmph.com/ssl/rmncebu?mp=/stream" type="audio/aac">
      Your browser does not support the audio element.
    </audio>
  </div>

  <!-- Movie Links -->
  <div class="movie-links">
    <h2>üé¨ Movie Links</h2>
    <ul>
      <li><a href="http://kk.ct.ws" target="_blank">http://kk.ct.ws</a></li>
      <li><a href="https://www.lookmovie2.to" target="_blank">https://www.lookmovie2.to</a></li>
      <li><a href="https://ww6.123moviesfree.net" target="_blank">https://ww6.123moviesfree.net</a></li>
      <li><a href="https://movies2watch.tv" target="_blank">https://movies2watch.tv</a></li>
      <li><a href="https://multimovies.coupons" target="_blank">https://multimovies.coupons</a></li>
      <li><a href="https://film-haven.vercel.app" target="_blank">https://film-haven.vercel.app</a></li>
      <li><a href="https://m4uhd.com.co/home" target="_blank">https://m4uhd.com.co/home</a></li>
      <li><a href="https://www.vglist.nl" target="_blank">https://www.vglist.nl</a></li>
      <li><a href="https://fmoviesz.ms" target="_blank">https://fmoviesz.ms</a></li>
      <li><a href="https://nunflix.org" target="_blank">https://nunflix.org</a></li>
      <li><a href="https://putlocker.pe/home" target="_blank">https://putlocker.pe/home</a></li>
    </ul>
  </div>

  <!-- Security Codes -->
  <div class="security-codes">
    <p>G1stX51677413X79268557X43426425X02903887X48405090X97592951X36751671</p>
    <p>G2ndX87930868X79693801X28198839X10787943X01642065X43405314X05831064X58539749X93700422X50207461</p>
    <p>F05158511X24317591X41352780X53072337X66958056</p>
  </div>

  <!-- Copyright -->
  <div class="copyright">
    Copyright ¬© 2025<br>
    All Rights Reserved
  </div>

  <script>
    // === Date and Time Script ===
    function updateDateTime() {
      const now = new Date();
      const dateOptions = {
        timeZone: 'Asia/Manila',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      };
      const timeOptions = {
        timeZone: 'Asia/Manila',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: true
      };
      document.getElementById('date').textContent =
        new Intl.DateTimeFormat('en-US', dateOptions).format(now);
      document.getElementById('ph-time').textContent =
        new Intl.DateTimeFormat('en-US', timeOptions).format(now);
    }
    setInterval(updateDateTime, 1000);
    updateDateTime();

    // === YouTube Live Stream Selector Script ===
    const channelSelect = document.getElementById("channelSelect");
    const playerContainer = document.getElementById("playerContainer");
    const livePlayer = document.getElementById("livePlayer");
    channelSelect.addEventListener("change", function () {
      const channelId = this.value;
      if (channelId) {
        livePlayer.src = `https://www.youtube.com/embed/live_stream?channel=${channelId}&autoplay=1&mute=1&playsinline=1`;
        playerContainer.style.display = "flex";
      } else {
        livePlayer.src = "";
        playerContainer.style.display = "none";
      }
    });

    // === Live Sheet Data Script ===
    const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQYsjd9JYHYMW-UQipV00EObQWZyER01Cj0LCOwwkq1TFlg0lBjmTmZVUFDXPvyb-y2zqXW2pzskL-5/pub?output=csv&gid=0";

    const tableContainer = document.getElementById("tableContainer");
    const errorMsg = document.getElementById("errorMsg");
    const lastUpdated = document.getElementById("lastUpdated");
    const status = document.getElementById("status");
    const loadingText = document.getElementById("loadingText");
    const manualRefresh = document.getElementById("manualRefresh");

    function parseCSV(text) {
      const rows = text.trim().split("\n").map(r => {
        return r.split(",").map(c => c.replace(/^"|"$/g, ""));
      });
      return rows;
    }

    function buildTable(data) {
      if (!data || data.length === 0) {
        tableContainer.innerHTML = "<div class='small'>No data available.</div>";
        return;
      }
      const thead = data[0];
      const bodyRows = data.slice(1);

      const table = document.createElement("table");
      const trHead = document.createElement("tr");
      thead.forEach(h => {
        const th = document.createElement("th");
        th.textContent = h;
        trHead.appendChild(th);
      });
      const theadEl = document.createElement("thead");
      theadEl.appendChild(trHead);
      table.appendChild(theadEl);

      const tbody = document.createElement("tbody");
      bodyRows.forEach(row => {
        const tr = document.createElement("tr");
        row.forEach(cell => {
          const td = document.createElement("td");
          td.textContent = cell;
          tr.appendChild(td);
        });
        tbody.appendChild(tr);
      });
      table.appendChild(tbody);

      tableContainer.innerHTML = "";
      tableContainer.appendChild(table);
    }

    async function fetchAndRender() {
      status.textContent = "Fetching‚Ä¶";
      errorMsg.style.display = "none";
      loadingText.style.display = "inline-block";
      try {
        const resp = await fetch(CSV_URL, { cache: "no-cache" });
        if (!resp.ok) throw new Error(`HTTP ${resp.status}`);
        const text = await resp.text();
        const parsed = parseCSV(text);
        buildTable(parsed);
        const now = new Date();
        lastUpdated.textContent = "Last updated: " + now.toLocaleString("en-US", { hour12: true });
        status.textContent = "";
      } catch (err) {
        errorMsg.textContent = "Failed to load spreadsheet: " + err.message;
        errorMsg.style.display = "block";
        status.textContent = "Error";
      } finally {
        loadingText.style.display = "none";
      }
    }

    manualRefresh.addEventListener("click", () => {
      fetchAndRender();
    });

    // initial load and periodic refresh every 30s
    fetchAndRender();
    setInterval(fetchAndRender, 30000);
  </script>

</body>
</html>
